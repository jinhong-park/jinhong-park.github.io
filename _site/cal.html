<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜„ì¬ ì‹œê°„, ë‚ ì§œ ë° ë‹¬ë ¥, í•  ì¼, ì¼ê¸°</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh; /* ë·°í¬íŠ¸ ì „ì²´ ë†’ì´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì • */
            margin: 0;
            background-color: #f4f4f9;
            padding: 0px 0 0px 0;
        }
        #date {
            font-size: 1.0em; /* í¬ê¸° ì•½ê°„ ì¤„ì„ */
            margin-bottom: 5px;
            color: #333;
        }
        #time {
            font-size: 1.0em; /* í¬ê¸° ì•½ê°„ ì¤„ì„ */
            font-weight: bold;
            color: #007bff;
            margin-bottom: 5px;
        }

		/* ê³µí†µ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
		        #calendar-container, #todo-container, #journal-container {
		            width: 90%;
		            max-width: 400px;
		            margin-bottom: 1px; 
		            padding: 15px;
		            border: 1px solid #ddd;
		            border-radius: 8px;
		            background-color: #fff;
		            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
		            text-align: left;
		        }

		        /* ë‹¬ë ¥ ìŠ¤íƒ€ì¼ (ì´ì „ê³¼ ë™ì¼) */
		        #calendar-container {
		            max-width: 400px; /* ë‹¬ë ¥ë§Œ ë„ˆë¹„ ì œí•œ */
		        }
		        .calendar-header {
		            text-align: center;
		            font-size: 1.0em;
		            margin-bottom: 5px;
		            font-weight: bold;
		            color: #2c3e50;
		        }
		        .calendar-grid {
		            display: grid;
		            grid-template-columns: repeat(7, 1fr);
		            text-align: center;
		            gap: 1px;
		        }
		        .day-header {
		            font-weight: bold;
		            padding: 8px 0;
		            background-color: #ecf0f1;
		            border-radius: 4px;
		        }
		        .day {
		            padding: 8px 0;
		            border-radius: 4px;
		            cursor: default;
		        }
		        .today {
		            background-color: rgba(0, 123, 255, 0.3);
		            color: white;
		            font-weight: bold;
		        }
		        .sun {
		            color: #e74c3c;
		        }
		        .sat {
		            color: #3498db;
		        }
				
/* ì…ë ¥ í¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        #todo-input, #journal-input {
            width: 95%;
            padding: 15px;
            margin-bottom: 3px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
            font-size: 1em;
        }
        button {
            padding: 10px 20px;
            background-color: #2ecc71; 
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            margin-top: 5px;
            margin-bottom: 10px;
        }
        button:hover {
            background-color: #27ad60;
        }

        /* ì¶œë ¥ ì˜ì—­ ê³µí†µ ìŠ¤íƒ€ì¼ */
        #markdown-output, #journal-markdown-output {
            text-align: left;
            white-space: pre-wrap; 
            background-color: #f8f8f8;
            border: 1px solid #eee;
            padding: 10px;
            margin-top: 15px;
            border-radius: 4px;
            font-family: monospace;
            overflow-x: auto;
        }
        h2, h3 {
            color: #333;
			margin-bottom: 2px;
        }
				


        :root {
            --primary-color: #ff5f5f;
            --bg-color: #f0f2f5;
        }
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            margin: 0;
            background-color: var(--bg-color);
            font-family: 'Arial', sans-serif;
        }
        .timer-container {
            position: relative;
            width: 300px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: none; /* ë¸Œë¼ìš°ì € ê¸°ë³¸ í„°ì¹˜ ì•¡ì…˜ ë¹„í™œì„±í™” */
        }
        /* ì‹œê³„ ë°°ê²½ ë° SVG ì„¤ì • */
        svg {
            transform: rotate(-90deg);
            cursor: pointer;
        }
        circle {
            fill: none;
            stroke-width: 15;
            stroke-linecap: round;
        }
        .bg-circle { stroke: #ddd; }
        .progress-circle {
            stroke: var(--primary-color);
            stroke-dasharray: 880; /* 2 * PI * R (R=140) */
            stroke-dashoffset: 880;
            transition: stroke-dashoffset 0.1s linear;
        }
        .time-display {
            position: absolute;
            font-size: 3rem;
            font-weight: bold;
            color: #333;
            pointer-events: none; /* í´ë¦­ ë°©í•´ ê¸ˆì§€ */
        }
        .controls {
            margin-top: 5px;
        }
        button {
            padding: 12px 30px;
            font-size: 1.2rem;
            cursor: pointer;
            border: none;
            border-radius: 25px;
            background-color: var(--primary-color);
            color: white;
            transition: background 0.3s;
        }
        button:hover { background-color: #e04e4e; }
        button:disabled { background-color: #ccc; }
        p { color: #666; margin-top: 10px; }
				
    </style>
</head>
<body>

    <div id="date"></div>
    <div id="time"></div>
    <div id="calendar-container"></div>


 
<!--
    <div id="todo-container">
        <h3>ğŸ“ To do</h3>
        <textarea id="todo-input" rows="5" placeholder="Write down Todo and press enter&#10;Separate by line"></textarea>
        <button onclick="generateMarkdown()">Markdown click</button>

        <h3>Markdown result (Copy!)</h3>
        <pre id="markdown-output">Markdown is shown here. </pre>
    </div>
-->
  <div class="timer-container" id="clock">
        <svg width="300" height="300">
            <circle class="bg-circle" cx="150" cy="150" r="140"></circle>
            <circle class="progress-circle" id="progress" cx="150" cy="150" r="140"></circle>
        </svg>
        <div class="time-display" id="time-text">00:00</div>
    </div>

    <div class="controls">
        <button id="start-btn">ì‹œì‘</button>
        <button id="reset-btn" style="background-color: #666;">ì´ˆê¸°í™”</button>
    </div>
  <!--  <p>ì›í˜• í…Œë‘ë¦¬ë¥¼ ë§ˆìš°ìŠ¤ë¡œ ëŒë ¤ ì‹œê°„ì„ ì„¤ì •í•˜ì„¸ìš”!</p>-->

  
	

<div id="journal-container">
    <h3>âœï¸ Journal</h3>
    <textarea id="journal-input" rows="5" placeholder="Write down today"></textarea>
    <button onclick="generateJournalMarkdown()">Journal Markdown click</button>

    <h3>Markdown result (Copy!)</h3>
    <pre id="journal-markdown-output"></pre>
</div>




    <script>
        // === 1. ì‹¤ì‹œê°„ ì‹œê³„ í•¨ìˆ˜ (ì´ì „ê³¼ ë™ì¼) ===
        function updateClock() {
            const now = new Date();
            
            // ë‚ ì§œ í‘œì‹œ
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            const dateString = now.toLocaleDateString('ko-KR', dateOptions);
            document.getElementById('date').textContent = dateString;

            // ì‹¤ì‹œê°„ ì‹œê°„ í‘œì‹œ
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: true };
            const timeString = now.toLocaleTimeString('en', timeOptions);
            document.getElementById('time').textContent = timeString;
        }

        // === 2. ë‹¬ë ¥ ìƒì„± í•¨ìˆ˜ ===
        function renderCalendar() {
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth(); // 0ë¶€í„° ì‹œì‘ (0=1ì›”, 11=12ì›”)
            const todayDate = now.getDate(); // ì˜¤ëŠ˜ ë‚ ì§œ

            // í˜„ì¬ ì›”ì˜ ì²« ë²ˆì§¸ ë‚  (ìš”ì¼ì„ ì•Œê¸° ìœ„í•¨)
            const firstDayOfMonth = new Date(year, month, 1).getDay(); // 0(ì¼ìš”ì¼) ~ 6(í† ìš”ì¼)
            // ë‹¤ìŒ ì›”ì˜ ì²« ë²ˆì§¸ ë‚  (í˜„ì¬ ì›”ì˜ ë§ˆì§€ë§‰ ë‚ ì„ ì•Œê¸° ìœ„í•¨)
            const lastDayOfMonth = new Date(year, month + 1, 0).getDate(); 

            // ë‹¬ë ¥ ì»¨í…Œì´ë„ˆ ìš”ì†Œ
            const calendarContainer = document.getElementById('calendar-container');
            calendarContainer.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™”

            // ë‹¬ë ¥ í—¤ë” (ì—°ë„ì™€ ì›”)
            const header = document.createElement('div');
            header.className = 'calendar-header';
            header.textContent = `${year}ë…„ ${month + 1}ì›”`;
            calendarContainer.appendChild(header);

            // ìš”ì¼ í—¤ë” (ì¼ì›”í™”ìˆ˜ëª©ê¸ˆí† )
            const weekDays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            const gridHeader = document.createElement('div');
            gridHeader.className = 'calendar-grid';
            weekDays.forEach((day, index) => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                if (index === 0) dayHeader.classList.add('sun');
                if (index === 6) dayHeader.classList.add('sat');
                dayHeader.textContent = day;
                gridHeader.appendChild(dayHeader);
            });
            calendarContainer.appendChild(gridHeader);

            // ë‚ ì§œ ê·¸ë¦¬ë“œ
            const gridBody = document.createElement('div');
            gridBody.className = 'calendar-grid';

            // 1. ì²« ë²ˆì§¸ ë‚  ì´ì „ì˜ ë¹ˆ ì¹¸ ì±„ìš°ê¸°
            for (let i = 0; i < firstDayOfMonth; i++) {
                gridBody.appendChild(document.createElement('div'));
            }

            // 2. í•´ë‹¹ ì›”ì˜ ë‚ ì§œ ì±„ìš°ê¸°
            for (let date = 1; date <= lastDayOfMonth; date++) {
                const day = document.createElement('div');
                day.className = 'day';
                day.textContent = date;
                
                // ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡°
                if (date === todayDate) {
                    day.classList.add('today');
                }

                // ìš”ì¼ì— ë”°ë¥¸ ìƒ‰ìƒ ì¶”ê°€
                const dayOfWeek = new Date(year, month, date).getDay(); // 0=ì¼, 6=í† 
                if (dayOfWeek === 0) day.classList.add('sun');
                if (dayOfWeek === 6) day.classList.add('sat');

                gridBody.appendChild(day);
            }
            
            calendarContainer.appendChild(gridBody);
        }


// === 3. To-do List Markdown ë³€í™˜ í•¨ìˆ˜ ===
//        function generateMarkdown() {
//            const inputElement = document.getElementById('todo-input');
//            const todoText = inputElement.value.trim();
//
//            if (!todoText) {
 //               document.getElementById('markdown-output').textContent = "ì…ë ¥ëœ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.";
//                return;
//            }

//            const lines = todoText.split('\n');
//            let markdownOutput = '';

//            lines.forEach(line => {
//                const trimmedLine = line.trim();
//                if (trimmedLine) {
                    // Markdown ì²´í¬ë¦¬ìŠ¤íŠ¸ í˜•ì‹: `- [ ] í•  ì¼ ë‚´ìš©`
//                    markdownOutput += `- [ ] ${trimmedLine}\n`;
//                }
//            });

            // í˜„ì¬ ë‚ ì§œë¥¼ ì œëª©ìœ¼ë¡œ ì¶”ê°€
//            const now = new Date();
            // YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì œëª© ìƒì„± (ì˜ˆ: 2025-11-21)
 //           const dateTitle = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
            
            // ìµœì¢… Markdown í…ìŠ¤íŠ¸ ìƒì„±
 //           const finalMarkdown = `---\n\t## ${dateTitle} To-do List\n\n\n${markdownOutput}`;

  //          const outputElement = document.getElementById('markdown-output');
  //          outputElement.textContent = finalMarkdown;
   //     }
		
// === 4. ì¼ê¸° Markdown ë³€í™˜ í•¨ìˆ˜ (ìƒˆë¡œ ì¶”ê°€) ===
        function generateJournalMarkdown() {
            const inputElement = document.getElementById('journal-input');
            const journalText = inputElement.value.trim();

            if (!journalText) {
                document.getElementById('journal-markdown-output').textContent = "ì…ë ¥ëœ ì¼ê¸° ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.";
                return;
            }

            // ë‚ ì§œë¥¼ YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì œëª© ìƒì„±
            const now = new Date();
            const dateTitle = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
            
		// ISO 8601 í˜•ì‹ì˜ ë‚ ì§œ (datetime í˜•ì‹ë„ í˜¸í™˜ë˜ë„ë¡)
		    // ì˜ˆ: 2025-11-26 12:00:00 +0900
		    const fullDate = now.toISOString().replace('T', ' ').substring(0, 19); 
		    // ì‹œê°„ëŒ€(Timezone) ì •ë³´ëŠ” ì¶”ê°€í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í•„ìš”ì‹œ `${fullDate} +0900` í˜•íƒœë¡œ ì¶”ê°€ ê°€ëŠ¥

		    // 1. YAML Front Matter ë¸”ë¡ êµ¬ì„±
		    const frontMatter = `---
layout: post
title: ${dateTitle} Journal
date: ${fullDate}
categories:
excerpt: ---`;
		    

			
	
		    // 2. ìµœì¢… Markdown í…ìŠ¤íŠ¸ ìƒì„±: Front Matter + H1 ì œëª© + ì¼ê¸° ë³¸ë¬¸
		    // H1 ì œëª©ì€ Front Matterì˜ title í•„ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µë˜ë¯€ë¡œ, ì œê±°í•˜ê±°ë‚˜ H2ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.
		    // ì—¬ê¸°ì„œëŠ” H2ë¡œ ë³€ê²½í•˜ì—¬ ë³¸ë¬¸ê³¼ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
		    const finalMarkdown = `${frontMatter}\n\n## ${dateTitle} Journal\n\n${journalText}`;

		    document.getElementById('journal-markdown-output').textContent = finalMarkdown;
        }
		
		
		
        // === 3. ì´ˆê¸° ì‹¤í–‰ ë° ë°˜ë³µ ì„¤ì • ===
        // ì‹œê³„ì™€ ë‹¬ë ¥ì„ ì´ˆê¸°í™”
        updateClock();
        renderCalendar();
        
        // 1ì´ˆë§ˆë‹¤ ì‹œê³„ ì—…ë°ì´íŠ¸ (ë‹¬ë ¥ì€ ë§¤ì´ˆ ì—…ë°ì´íŠ¸í•  í•„ìš” ì—†ìŒ)
        setInterval(updateClock, 60000); 

        // ë§¤ì‹œê°„ ë‹¬ë ¥ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ í˜¹ì‹œ ëª¨ë¥¼ ì˜¤ì°¨ ë°©ì§€ (ì„ íƒ ì‚¬í•­)
        // const now = new Date();
        // const msToNextHour = 3600000 - (now.getMinutes() * 60 + now.getSeconds()) * 1000 - now.getMilliseconds();
        // setTimeout(() => {
        //     renderCalendar(); 
        //     setInterval(renderCalendar, 3600000); // ë‹¤ìŒ ì‹œê°„ë¶€í„° ë§¤ ì‹œê°„ë§ˆë‹¤ ì—…ë°ì´íŠ¸
        // }, msToNextHour);



           const progressCircle = document.getElementById('progress');
        const timeText = document.getElementById('time-text');
        const startBtn = document.getElementById('start-btn');
        const resetBtn = document.getElementById('reset-btn');
        const clock = document.getElementById('clock');

        const radius = 140;
        const circumference = 2 * Math.PI * radius;
        let totalSeconds = 0;
        let timerInterval = null;
        let isDragging = false;

        // ì´ˆê¸°í™”
        progressCircle.style.strokeDasharray = circumference;
        updateDisplay(0);

        // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸: ì‹œê°„ ì„¤ì •
        clock.addEventListener('mousedown', () => isDragging = true);
        window.addEventListener('mouseup', () => isDragging = false);
        window.addEventListener('mousemove', handleSetTime);

        function handleSetTime(e) {
            if (!isDragging || timerInterval) return;

            const rect = clock.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            // ê°ë„ ê³„ì‚° (ë¼ë””ì•ˆ -> ë„)
            let angle = Math.atan2(e.clientY - centerY, e.clientX - centerX) * 180 / Math.PI;
            angle = (angle + 90 + 360) % 360; // -90ë„ ë³´ì • ë° ì–‘ìˆ˜í™”

            // ê°ë„ë¥¼ ë¶„ìœ¼ë¡œ ë³€í™˜ (360ë„ = 60ë¶„)
            const minutes = Math.round((angle / 360) * 60);
            totalSeconds = minutes * 60;
            updateDisplay(totalSeconds);
        }

        function updateDisplay(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timeText.innerText = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            
            // ì‹œê³„ ë°”ëŠ˜ ì—…ë°ì´íŠ¸ (ê²Œì´ì§€)
            const offset = circumference - (seconds / 3600) * circumference;
            progressCircle.style.strokeDashoffset = isNaN(offset) ? circumference : offset;
        }

        // íƒ€ì´ë¨¸ ì‹œì‘
        startBtn.addEventListener('click', () => {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                startBtn.innerText = 'ì¬ê°œ';
            } else {
                if (totalSeconds <= 0) return alert("ì‹œê°„ì„ ì„¤ì •í•´ì£¼ì„¸ìš”!");
                
                startBtn.innerText = 'ì¼ì‹œì •ì§€';
                timerInterval = setInterval(() => {
                    totalSeconds--;
                    updateDisplay(totalSeconds);

                    if (totalSeconds <= 0) {
                        clearInterval(timerInterval);
                        timerInterval = null;
                        alert("ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
                        startBtn.innerText = 'ì‹œì‘';
                    }
                }, 1000);
            }
        });

        // ì´ˆê¸°í™” ë²„íŠ¼
        resetBtn.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerInterval = null;
            totalSeconds = 0;
            updateDisplay(0);
            startBtn.innerText = 'ì‹œì‘';
        });
     

     // ê¸°ì¡´ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ìœ ì§€
clock.addEventListener('mousedown', () => isDragging = true);
window.addEventListener('mouseup', () => isDragging = false);
window.addEventListener('mousemove', handleSetTime);

// --- í„°ì¹˜ ì´ë²¤íŠ¸ ì¶”ê°€ ---
clock.addEventListener('touchstart', (e) => {
    isDragging = true;
    // í„°ì¹˜ ì‹œ í™”ë©´ ìŠ¤í¬ë¡¤ ë°©ì§€
    e.preventDefault(); 
}, { passive: false });

window.addEventListener('touchend', () => isDragging = false);

window.addEventListener('touchmove', (e) => {
    if (isDragging) {
        // í„°ì¹˜ ì§€ì  ì¢Œí‘œ ì „ë‹¬
        handleSetTime(e.touches[0]);
        // ë“œë˜ê·¸ ì¤‘ í™”ë©´ ìŠ¤í¬ë¡¤ ë°©ì§€
        e.preventDefault();
    }
}, { passive: false });
    </script>
</body>
</html>